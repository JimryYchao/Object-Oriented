# 系统复杂性

---

- [系统复杂性](#系统复杂性)
- [1. 软件系统的复杂性](#1-软件系统的复杂性)
	- [1.1 问题域的复杂性](#11-问题域的复杂性)
	- [1.2 管理开发过程的困难性](#12-管理开发过程的困难性)
	- [1.3 软件中随处可能出现的灵活性](#13-软件中随处可能出现的灵活性)
	- [1.4 描述离散系统行为的问题](#14-描述离散系统行为的问题)
- [2. 复杂系统的 5 个属性](#2-复杂系统的-5-个属性)
- [3. 有组织和无组织的复杂性](#3-有组织和无组织的复杂性)
- [4. 从混沌到有序](#4-从混沌到有序)
	- [4.1 分解的作用](#41-分解的作用)
	- [4.2 抽象的作用](#42-抽象的作用)
	- [4.3 层次结构的作用](#43-层次结构的作用)
- [5. 复杂系统的设计](#5-复杂系统的设计)

---
# 1. 软件系统的复杂性

- 软件的复杂性是一个基本特征，而不是偶然如此。这种固有的复杂性有四个原因：问题域的复杂性、管理开发过程的困难性、通过软件可能实现的灵活性、刻画离散系统行为的问题

---
## 1.1 问题域的复杂性

- 在软件设计过程中试图解决的问题常涉及不可避免的复杂性，在其中存在很多的竞争性需求。对于一个软件系统的基本功能，不可避免会掺杂很多非功能需求（常常是隐式的），例如可用性、性能、成本、健壮性和可靠性等
- 这些为外部复杂性一般源自于系统用户与系统开发者之间的沟通障碍。用户与开发者对问题的本质的看法有着不同的看发，并根据解决方案的本质做出了不同的假定，因此也可能产生对基本需求的不同解读。
- 软件系统在开发过程中经常发生需求改变，主要是因为软件开发项目于本身改变了问题的规则。系统会随时间的推移而演变，我们不能忍受在每次需求发生改变时，就抛弃原有的系统。在我们修正错误时，这是维护；在应对改变时，这是演变；在用一些极端的手段保持古老陈腐的软件继续工作时，这是保护。事实表明相当一大部分的软件开发资源被用在了软件保护上

---
## 1.2 管理开发过程的困难性

- 在软件系统中，规模大并不是太好的事情。对于系统需求的变化，我们追求的是通过发明一些聪明的、强大的方法来实现少写代码来制造简单的假象。但有时系统的需求数量是无法逃避的，迫使开发者要么开发新的软件，要么复用并创新已有的软件
- 对于一个相当复杂性的系统，以有意义的方式进行分解，也会得到大量数百或数千个独立的模块。这样需要我们启用开发团队，且理想情况下越小越好。有更多的开发者就意味着更复杂的沟通。对于开发团队来说，主要的管理挑战总是维持设计的一致性和完整性

---
## 1.3 软件中随处可能出现的灵活性

- 软件开发过程中，新增新的模块需要提供新的设计方案和接口。软件的这类灵活性由于缺少一种统一的编码和标准，每新增一个需求时都需要构建构成模块几乎所有的初级构建模块，以组成软件中任何形式的抽象。

---
## 1.4 描述离散系统行为的问题

- 在大型应用中，存在者大量的变量与线程。系统中的变量，当前的值，当前的地址与每个过程的调用栈一起构成了应用当前的状态，在计算机上具有离散的状态。	
- 离散系统从本质上来说具有有限数量的可能状态，由于组合的问题，系统可能状态的数目变得非常大。离散系统中的状态转换不能够用连续函数来建模
- 在离散系统中，所有的外部事件都有可能影响系统内部状态的任何部分

---
# 2. 复杂系统的 5 个属性

1. 层次结构：复杂性常常以层次结构的形式存在。复杂的系统由一些相关的子系统组成，这些子系统又有自己的熊，如此下去，直到达到某种最低层次的基本组件。

2. 相对本原：选择哪些作为系统的基础组件相对来说比较随意，这在很大程度上取决于系统观察者的判断

3. 分离关注：组件内的联系通常比组件间的联系更强。这一事实实际上将组件中高频率的动作（涉及组件的内部结构）和低频率的动作（涉及组件间的相互作用）分离开来

4. 共同模式：层次结构通常只是由少数不同类型的子系统按照不同的组合和安排方式构成的

5. 稳定的中间形式：复杂系统毫无例外都是从能工作的简单系统演变而来的。从头设计的复杂系统根本不能工作，也不能通过打补丁的方式使其工作。必须从头开始，从能工作的简单系统开始

---
# 3. 有组织和无组织的复杂性

- 发现共同抽象和机制极大地促进了我们对复杂系统的理解

> 复杂系统的规范形式

- 对一个复杂系统的分解可以遵循系统 “组成部分” 的层次结构上进行分解，或按照 “是某一类” 具体对象的方式，分离出代表某一类型共同特征的抽象。
- 作为系统的两个正交的层次结构：它的类结构和它的对象结构。每个层次结构都是分层的，在许多基础类和对象上构建了许多抽象类和对象
- 复杂软件系统还包含其他类型的层次结构。其中特别重要的是模块结构，它描述了系统物理组件之间的关系，以及处理层次结构，它描述了系统的动态组件之间的关系
- 将类结构和对象结构的概念与复杂系统的 5 种属性结合起来，基本上所有的复杂系统都具有相同（规范）的形式，即这种组合结构称为该系统的架构

---
# 4. 从混沌到有序

## 4.1 分解的作用

- 算法分解：对于自顶向下的结构化设计，对一个复杂系统（按照算法）分解成不同功能的子模块，系统中的每个模块代表了某个总体过程的一个主要步骤。
- 面向对象的分解：根据问题领域中的关键抽象概念对系统（按照对象模型）进行分解
- 实际情况下无法同时用两种方法来构建复杂系统，但首先应用面向对象的观点，这有助于组织软件系统的内在复杂性。面向对象分解极大地降低了构建复杂软件系统的风险。

---
## 4.2 抽象的作用

- 不能够全面掌握一个复杂的对象，我们就选择忽略它的非本质的细节，转而处理这个对象的一般化的、理想化的模型
- 利用对信息的分块和不断增大的语义内容，当我们采用面向对象的观点来看世界时，因为对象作为真实世界中实体的抽象，代表了特定的一块密集而内聚的信息

---
## 4.3 层次结构的作用

- 另一种增加单块信息的语义内容的方法，是在复杂的软件系统中显式地组织类和对象层次结构
- 通过将对象分成具有相关抽象的组，明确区分不同对象的共同属性和特有属性，进一步帮助掌握系统内在的复杂性
  
---
# 5. 复杂系统的设计

> 建模的重要性

- 建模引证了分解、抽象和层次结构的原则，设计中的每个模型都描述了被考虑的系统的某个方面。组件视图构成了系统设计的逻辑视图，它帮助工程师思考组件间的协作关系

> 软件设计方法学的要素

- 表示法：表达每个模型的语言
- 过程：导致有序构建系统模型的过程
- 工具：消除建模中的鼓噪工作并强制实现模型本身的规则的工件，可以揭示错误和不一致性

> 面向对象开发的模型

- 面向对象分析和设计的方法实现了面向对象分解，通过应用面向对象设计，可以创建出能够灵活适应变化的软件，并体现出表达的经济性，降低了开发复杂软件系统所固有的风限
- 在讨论面向对象设计的表示法和过程之前，必须研究面向对象开发所基于的原则：抽象、封装、模块化、层次结构、类型、并发与持久

---