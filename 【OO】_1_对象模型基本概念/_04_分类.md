# 分类

---

- [分类](#分类)
- [1. 分类的重要性](#1-分类的重要性)
- [2. 确定类和对象](#2-确定类和对象)
	- [2.1 经典方法和现代方法](#21-经典方法和现代方法)
	- [2.2 面向对象分析](#22-面向对象分析)
- [3. 关键抽象与机制](#3-关键抽象与机制)
	- [3.1 确定关键抽象](#31-确定关键抽象)
	- [3.2 识别机制](#32-识别机制)

---
# 1. 分类的重要性

- 分类是发现共性的问题。通过分类发现具有共同结构或表现出共同行为的一组事物
- 明智的分类有助于构建科学的组成部分
- 分类可以帮助我们确定类之间的泛化、特化、聚合等层次结构

> 分类的困难

- 分类的困难在于如何定义边界。分类意味着在类和对象间自然关系的基础上，建立起外部视图系统性的层次结构

> 分类的增量和迭代本质

- 在设计复杂系统软件时，分类的增量式、迭代本质直接影响了类和对象的层次结构。

---
# 2. 确定类和对象

## 2.1 经典方法和现代方法

> 经典分类

- 所有具有某个或某一组共同属性的实体构成了一个分类。经典分类法利用相关的属性作为对象间相似性的判据。最有用的属性集合是其成员没有太多相互影响的集合
- 一般性来说，属性可以不只表示可以测量的特征，也可以包含观察到的行为。

> 概念聚集

- 类（一些实体的聚集）的产生首先是形成类的概念描述，然后再根据这些描述对实体进行分类。概念聚集更多地代表了对象聚集的可能性

> 原型理论

- 对象的类是由一个原型对象来代表的，如果一个对象与这个原型表现出重要的相似性，那么这个对象就被认为是这个类中的一员

> 应用经典理论和现代理论

1. 根据特定领域相关的属性来确定类和对象的。这时关注的重点是确定构成问题空间词汇表的结构和行为
2. 按概念来聚集对象。这时关注的重点是协助对象的行为。

---
## 2.2 面向对象分析

- 场景是强大的面向对象分析工具，可以用于经典分析、行为分析、领域分析和用例分析。

> 经典方法

- 对于问题域的需求，提出了类和对象的许多不同来源：实物、角色、事件、交互、人、地点、物、组织、概念、结构、其他系统、设备、位置、组织机构单位等

> 行为分析

- 将具有共同责任的事物划分为一组，让超类包含一般的责任，让子类包含特殊的行为。
- 根据系统的功能来确定类和对象，然后将这些行为分配到系统的各个部分。

> 领域分析

- 领域分析试图确定子啊某个领域中所有应用都通用的类和对象。
- 领域分析定义为确定对象、操作和关系的尝试，领域专家认为这些对象、操作和关系对这个领域很重要
- 领域分析的步骤：
  - 咨询领域专家，构建一个通用的模型草稿
  - 检查领域中原有的系统，以一种通用的格式展示出这方面的理解
  - 咨询领域专家，确定系统间的相似和差异
  - 精化通用模型，以包含原有的系统

> 用例分析

- 用例分析：一个执行者通过与系统进行对话的方式执行的一个行为上相关的事物序列，目的是为执行者提供某种可度量的价值
- 当分析团队分析每个场景时，他们必须确定参与该场景的对象、每个对象的责任以及这些对象与其他对象协作的方式，即每个对象调用其他对象的操作。

> 结构化分析

- 结构化分析从系统的一个基本模型开始，由数据流图和结构化分析的其他产品来描述。
- 从数据字典的分析开始，到分析模型的上下文背景图。利用现有的基本数据元素清单，考虑它们告诉了什么信息或它们描述了什么。对这些问题的回答形成了候选对象的列表
- 对于特定的数据流图，候选对象可以从外部实体、数据存储、控制存储、控制转换等方面推出。候选类有两个来源，数据流和控制流。
- 结构化设计通常与结构化分析一起使用。结构化分析基于算法分析的模型中创建一个面向对象的系统，这趋向于用数据流图来反映设计而不是反映问题域的基本模型（面向对象分析）

---
# 3. 关键抽象与机制

- 关键抽象反映了问题域的词汇表，可以从问题域中发现，也可以作为设计的一部分而发明。
- 机制代表了战略上的设计决策，考虑的是许多不同类型的对象的协作活动。

---
## 3.1 确定关键抽象

- 确定关键抽象是与具体领域高度相关的。正确选择对象当然取决于应用的目的，以及要操作的信息的粒度
- 确定关键抽象包含两个过程：通过发现过程，可以意识到领域专家所使用的抽象；通过发明过程，创造了新的类和对象

> 精化关键抽象

- 通常程序员必须关注：这个类的对象是如何创建的？这个类的对象可以被复制或销毁吗？在这样的对象上可以执行什么操作？
- 对于一个新的抽象，必须将它放在已经设计好的类和对象层次结构的上下文中。最常见的类层次结构的组织方式是从两个类中提取公共部分放到一个新类中，或者将一个类分成两个新类。

> 命名关键抽象

- 正确地为事物命名，这是很重要的
  - 对象应该用合适的名词词组来命名
  - 类应该用常见的名词词组来命名
  - 选择的名称应该是领域专家使用和认识的名称
  - 修改操作应该用一个主动语态的动词词组来命名
  - 选择操作应该表示出查询的意思
  - 使用下划线和大写字母主要是个人的喜好

---
## 3.2 识别机制

- 开发者从一种可选机制中选择哪一种通常是考虑其他因素的结果，如成本、可靠性、可生产性和安全性。一个客户对象违反另一个对象的接口是不对的
- 关键抽象反映了问题域的抽象，而机制是设计的灵魂。开发者在考虑单个类的设计的同时也要考虑这些类的实例如何一起工作
- 当开发者决定采用某种协作模式之后，工作会被分解到许多对象上，即在相应的类上定义适当的方法。

> 机制即模式

- 机制实际上是构造良好的软件系统中应用的各种模式。
- 使用一种编程语言时常使用其惯用法。
- 在最高的抽象层次上，操作系统的结构可以根据调度程序所使用的机制来描述

---